{% extends 'base.html' %}

{% block content %}
<header class="header"><h1>Cart</h1></header>

<main class="container">
  <!-- 以后这里可以用后端传进来的 items 循环渲染 -->
  <section class="cart-list">
    <article class="cart-item">
      <img src="{{ url_for('static', filename='img/placeholder.jpg') }}" alt="item">
      <div class="info">
        <h3 class="title">IKEA study table 100×60</h3>
        <div class="meta">NYU · Furniture</div>
        <div class="row">
          <span class="price">$ 20</span>
          <span class="qty">Qty: 1</span>
        </div>
      </div>
      <a class="remove" href="#">Remove</a>
    </article>

    {# 示例：以后用 Jinja 循环真实购物车数据 #}
    {# 
    {% for it in cart_items %}
    <article class="cart-item">
      <img src="{{ it.image_url or url_for('static', filename='img/placeholder.jpg') }}" alt="item">
      <div class="info">
        <h3 class="title">{{ it.title }}</h3>
        <div class="meta">{{ it.school }} · {{ it.category }}</div>
        <div class="row">
          <span class="price">$ {{ '%.2f'|format(it.price or 0) }}</span>
          <span class="qty">Qty: {{ it.qty or 1 }}</span>
        </div>
      </div>
      <a class="remove" href="{{ url_for('main.cart_remove', item_id=str(it._id)) }}">Remove</a>
    </article>
    {% endfor %}
    #}
  </section>

  <section class="cart-summary">
    <div class="line"><span>Subtotal</span><span>$ 20</span></div>
    <div class="line"><span>Estimated Fees</span><span>$ 0</span></div>
    <div class="line total"><span>Total</span><span>$ 20</span></div>
    <a class="btn" href="{{ url_for('main.checkout') }}">Checkout</a>
  </section>
</main>

<nav class="nav">
  <a href="{{ url_for('main.index') }}">Home</a>
  <a href="{{ url_for('main.items_list') }}">My listing</a>
  <a href="{{ url_for('main.items_add') }}">Publish</a>
  <a class="active" href="{{ url_for('main.cart') }}">Cart</a>
  <a href="{{ url_for('main.login') }}">Login</a>
</nav>
{% endblock %}
